\chapter{Bilder einfügen}
\label{chap:Images}

Bilder\index{Bilder} einfügen ist ein großes Thema und für jeden, der mit \LaTeX\ arbeitet, nicht unbedingt ein Quell steter Freude.

Üblicherweise werden Bilder in Fließumgebungen (floats) gesetzt, damit \LaTeX\ sie geschickt positionieren kann.

Die Vorlage stellt den \verb+\bild+-Befehl zur Verfügung, der eigentlich die meisten Anwendungen abdecken sollte.
% Bild-Pfadname, Beschriftung, Label, Breite, optional: Kurzbeschriftung (für Abbildungsverzeichnis), optional: Platzierung
\bild{images/jpegbild_Corel24bit4,2,2.jpg}{Bild, eingesetzt mit dem \texttt{bild}-Befehl}{fig:bildbefehl2}{0.4\textwidth}{Bildbefehl-Bild}{}

Sollen Bilder an einer ganz bestimmten Stelle auftauchen, kommen dann meistens Hacks zum Einsatz. So wie nachfolgend in \ref{nonfloatJPEGBildN} und \ref{nonfloatPNGBild24} gezeigt, werden zwei Bilder nebeneinander an eine bestimmte Stelle im Text gesetzt. Und zwar ganz ohne \texttt{figure}-Umgebung! Warum das die meisten nicht machen ist: Lässt man einfach die \texttt{figure}-Umgebung weg, beschwert sich der Compiler, dass das mit der Caption (der Bildunterschrift) jetzt nicht mehr klappt. Ist ja auch klar: Wenn man kein Fließobjekt\index{Fließobjekt} hat, weiß \LaTeX ja gar nicht, welchen Zähler und Bezeichner es verwenden soll, weil es ja keine Ahnung hat, ob das jetzt Tabellen, Bilder oder sonstwas sind.\\[\intextsep]  %%Hilft gegen zu wenig Abstand zu den non-float-Bildern

{ \Centering %Beide Bilder insgesamt mittig
   \begin{minipage}{0.49\linewidth} %erste Teilseite, die das linke Bild enthalten wird
   \Centering %Auch innerhalb dieser Teilseite mittig
   \includegraphics[width=0.4\linewidth]{images/jpegbild_Corel24bit4,2,2.jpg} %Bild einfügen
   \captionof{figure}[Normale Figure Umgebung]{Dies ist eine Abbildungungsbeschriftung.} %Verwendung von captionof statt caption. Dabei LaTeX mitteilen, was das für eine Caption ist (hier figure) und dann die gewohnten caption-Argumente
   \label{nonfloatJPEGBildN} %Label auf dieses Bild
	\end{minipage}%\hspace{2em}%   %Ende der linken Seite
	\hfill% Zwischenraum zwischen den Teilseiten horizontal ausfüllen, damit die Teilseiten nicht aneinander kleben
   \begin{minipage}{0.49\linewidth}  %gleiches Spiel...
   \Centering   
   \includegraphics[width=0.4\linewidth]{images/PNG24bit.png}
   \captionof{figure}[Normale Figure Umgebung]{Dies ist eine Abbildungungsbeschriftung.}
   \label{nonfloatPNGBild24}
	\end{minipage} %Ende rechte Teilseite
	\\[\intextsep]
}

% \includegraphics[trim = 10mm 80mm 20mm 5mm, clip, width=3cm]{Bild}     %Dieser Code schneidet links 10mm, unten 80mm, rechts 20mm und oben 5mm vom ursprünglichen Bild ab und skaliert anschliessend den sichtbaren Ausschnitt auf 3cm Breite.

% Das Bild mittels \includegraphics[bb=0 0 100 100]{Bild} ins Dokument einbinden. Die richtigen Koordinaten (ersten zwei Zahlen entsprechen der linken unteren Ecke, die zweiten zwei der rechten oberen Ecke des anzuzeigenden Bildausschnittes)

\section{Figures}
\label{sec:figures}

Als nächstes hier mal die sehr oft anzutreffende Variante, die einer Fließumgebung (wie es \texttt{figure} nun mal ist) das Fließen im Text verbietet (durch \texttt{[H]} aus dem float-Paket).

An sich ist das eine normale figure Umgebung, zwei Bilder nebeneinander. Sogar gelabelt: JPEG-Bild \ref{JPEGBildN} und PNG 24-bit Bild \ref{PNGBild24}:\\
\begin{figure}[H]
   \Centering
   \begin{minipage}{0.49\linewidth}
   \Centering
   \includegraphics[width=0.4\linewidth]{images/jpegbild_Corel24bit4,2,2.jpg}
   \caption[Normale Figure Umgebung]{Dies ist eine Abbildungungsbeschriftung.}
   \label{JPEGBildN}
	\end{minipage}%\hspace{2em}%
	\hfill%
   \begin{minipage}{0.49\linewidth}
   \Centering   
   \includegraphics[width=0.4\linewidth]{images/PNG24bit.png}
   \caption[Normale Figure Umgebung]{Dies ist eine Abbildungungsbeschriftung.}
   \label{PNGBild24}
	\end{minipage}
\end{figure}

%\missingfigure{Mit dem Todo-Paket kann man sich auch an Bilder erinnern.}


\section{More figures, Subfloats, Wrapfigures}

\subsection{Overpic}

Mit dem Overpic-Paket\index{overpic} kann man LaTeX-Schrift über Bilder legen. Wer unbedingt will, kann so natürlich auch seine Grafiken beschriften, aber das Handling per Koordinaten dürfte nicht sonderlich bequem sein. In Ausnahmefällen kann es aber für eine quick-and-dirty-Lösung durchaus hilfreich sein.

Bild-über-Bild funktioniert genauso (siehe Beispiel, Abb.~\ref{fig:overpicex}).

\begin{figure}%
	\centering
		\begin{overpic}[scale=.25,unit=1mm]{images/PNG24bit.png}
			\put(3,28){\huge { \color{white} \LaTeX}}
			\put(40,5){\includegraphics[scale=.07]{images/EPStoPDF_Bild.pdf}}
		\end{overpic}
\caption{Overpic-Beispiel}%
\label{fig:overpicex}%
\end{figure}




\begin{SCfigure}
\index{SCfigure}
\includegraphics[width=0.4\linewidth]{images/PNG24bit.png}
   \caption[sidewayscaptionfigure]{Hier ist die Caption aber mal anders. Hier ist die Caption aber mal anders. Hier ist die Caption aber mal anders. Hier ist die Caption aber mal anders. }
   \label{fig:SCfigure}
\end{SCfigure}

Und mit Subfloats\index{subfloats} ist es ähnlich aber doch anders. Siehe \ref{fig:SCfigure} für eine SCfigure. Und mit Subfloats ist es ähnlich aber doch anders. Nämlich so: Wir referenzieren das gesamt-Dings mit \ref{BeidePNGBilder}, aber nur das eine mit \ref{PNGBild8S} und das andere mit \ref{PNGBild24S}. Da muss man schon im Quelltext nachschauen um das zu blicken:\\
\begin{figure}[H]
   \Centering
   \subfloat[Dies ist eine Abbildungungsbeschriftung. Erstes Bild PNG 8-bit]{\makebox[0.49\textwidth]{\includegraphics[width=0.2\textwidth]{images/PNG8bit.png}}\label{PNGBild8S}}
      \hfill%\hspace{0.1\textwidth}
   \subfloat[Dies ist eine Abbildungungsbeschriftung. Zweites Bild PNG 24-bit]{\makebox[0.49\textwidth]{\includegraphics[width=0.2\textwidth]{images/PNG24bit.png}}\label{PNGBild24S}}
   \caption{Ein Beispiel für subfloats}
   \label{BeidePNGBilder}
\end{figure}

\begin{sidewaysfigure}
\Centering
   \begin{minipage}{0.49\linewidth}
   \Centering
   \includegraphics[width=0.4\linewidth]{images/jpegbild_Corel24bit4,2,2.jpg}
   \caption[sidewaysfigure]{Geht auch quer mit \texttt{sidewaysfigure}.}
   \label{JPEGBildNQ}
	\end{minipage}%\hspace{2em}%
	\hfill%
   \begin{minipage}{0.49\linewidth}
   \Centering   
   \includegraphics[width=0.4\linewidth]{images/PNG24bit.png}
   \caption[sidewaysfigure2]{Ebenso quer in derselben \texttt{sidewaysfigure}.}
   \label{PNGBild24Q}
	\end{minipage}
\end{sidewaysfigure}


Like all quotation facilities, this command is context sensitive. Depending on the nesting level, it will toggle between outer and inner quotation marks with plain and nested quotations. The starred version of this command skips directly to the inner level. If multilingual support is enabled, the style of all quotation marks will be adapted to the current language. Like all quotation facilities, this command is context sensitive. Depending on the nesting level, it will toggle between outer and inner quotation marks with plain and nested quotations. The starred version of this command skips directly to the inner level. If multilingual support is enabled, the style of all quotation marks will be adapted to the current language. Like all quotation facilities, this command is context sensitive. Depending on the nesting level, it will toggle between outer and inner quotation marks with plain and nested quotations. The starred version of this command skips directly to the inner level. If multilingual support is enabled, the style of all quotation marks will be adapted to the current language.
\section{Even more figures}
%\includegraphics[scale=0.4]{images/PNG8bit.png}\\
%\includegraphics[scale=0.4]{images/PNG24bit.png}\\
%\includegraphics[scale=0.4]{images/jpegbild_Corel24bit4,2,2.jpg}\\

Es ist eingestellt, dass das Gesamtdokument am Ende der PDF-Spezifikation\index{PDF-Spezifikation} 1.3 genügt, weil es damit keine Transparenzen aufweisen kann. Allerdings gibt das Einbetten von Dokumenten mit einer höheren PDF-Version eine Warnung. Das ist gut, denn dann wird man daran erinnert, seine Quellgrafiken auch als Version 1.3 abzuspeichern. Wenn bei einer automatischen Konvertierung durch Zusatzpakete PDF nach Version 1.4 erzeugt wird, ist das an sich nicht schlimm, bevor man es zum Verlag in Druck gibt, kann man sich überlegen ob man die Dateien dann händisch noch per Adobe Acrobat nach PDF 1.3 konvertiert. Oft lassen sich aber auch die Zusatzoptionen bei dem Programm mit angeben. Das wäre bei \texttt{epstopdf} dann etwa \texttt{epstopdf --gsopt=-dCompatibilityLevel\#1.3 input.eps} und bei \texttt{ps2pdf} wäre das \texttt{ps2pdf -dCompatibility\#1.3 input.eps output.pdf}.

Hier ein extern nach PDF konvertiertes EPS-Bild \ref{fig:exPDFEPS}:
\begin{figure}[htb]
\Centering
\includegraphics[scale=0.4]{images/EPStoPDF_Bild.pdf}
\caption{Mit dem Programm \texttt{epstopdf.exe} konvertiertes Bild.}
\label{fig:exPDFEPS}
\end{figure}
%\includegraphics{images/nativePDF_Corel_wrongBB.pdf}\\

Normales EPS mit Includegraphics und \texttt{usepackage epstopdf}\index{epstopdf} \ref{inPDFEPS}:
\begin{figure}[htb]
%\includegraphics[scale=0.4]{images/EPSBild_Corel.eps}\hfill \includegraphics[scale=0.4]{images/psfrag_abc_def_ghi.eps}\\
\caption{Intern durch das Paket \texttt{epstopdf} on-the-fly konvertierte Bilder.}
\label{inPDFEPS}
\end{figure}


%Hier mal ein EPS als \texttt{psfragfig}. Dabei ist wichtig, die Dateiendung im Quellcode wegzulassen:\\
%\psfragfig[scale=0.5]{images/EPSBild_Corel}\\  %Warning, dass keine Macros da wären.
\subsection{I can't stand so much figures}

This is just english text to give an impression of running text.

Like all \index{quotation} facilities, this command is context sensitive. Depending on the nesting level, it will toggle between outer and inner quotation marks with plain and nested quotations. The starred version of this command skips directly to the inner level. If multilingual support is enabled, the style of all quotation marks will be adapted to the current language. Like all quotation facilities, this command is context sensitive. Depending on the nesting level, it will toggle between outer and inner quotation marks with plain and nested quotations. The \index{starred} version of this \index{command} skips directly to the inner level. If multilingual support is enabled, the style of all quotation marks will be adapted to the current language. Like all quotation facilities, this command is context sensitive. Depending on the nesting level, it will toggle between outer and inner quotation marks with plain and nested quotations. The starred version of this command skips directly to the inner level. If multilingual support is enabled, the style of all quotation marks will be adapted to the current language. Like all quotation facilities, this command is context sensitive. Depending on the nesting level, it will toggle between outer and inner quotation marks with plain and nested quotations. The starred version of this command skips directly to the inner level. If multilingual support is enabled, the style of all quotation marks will be adapted to the current language. Like all \index{quotation} facilities, this command is context sensitive. Depending on the nesting level, it will toggle between outer and inner quotation marks with plain and nested quotations. The starred version of this command skips directly to the inner level. If multilingual support is enabled, the style of all quotation marks will be adapted to the current language. Like all quotation facilities, this command is context sensitive. Depending on the nesting level, it will toggle between outer and inner quotation marks with plain and nested quotations. The \index{starred} version of this \index{command} skips directly to the inner level. If multilingual support is enabled, the style of all quotation marks will be adapted to the current language. Like all quotation facilities, this command is context sensitive. Depending on the nesting level, it will toggle between outer and inner quotation marks with plain and nested quotations. The starred version of this command skips directly to the inner level. If multilingual support is enabled, the style of all quotation marks will be adapted to the current language. Like all quotation facilities, this command is context sensitive. Depending on the nesting level, it will toggle between outer and inner quotation marks with plain and nested quotations. The starred version of this command skips directly to the inner level. If multilingual support is enabled, the style of all quotation marks will be adapted to the current language.

\subsubsection{Tip: Figure über zwei Spalten Breite}

Um Figures bei zweispaltigen Text (\zB bei einem IEEE-Paper) zu setzen, verwendet man \verb+\begin{figure*}+ und \verb+\end{figure*}+.

Das ist eher als genereller Tip zu verstehen und hat weniger mit der Vorlage zu tun.


\subsubsection{That's enough figures now}

% Wrapfloat/Wrapfigure-Hinweise:
% -The environment should be placed so as to not run over a page break.
% -The environment must not be placed in special places like lists.
% -You must not specify a wrapfigure in any type of list environment or immediately before or immediately after one.  It is OK to follow a list if there is a blank line ("\par") in between.
% -If you put a wrapfigure in a parbox or a minipage, or any other type of grouping, the text wrapping should end before the group does.
% -It may be out of sequence with regular floats.
%
% -The hlines that may be printed above and below floats are ignored; you must insert them manually if desired.
% -"\linewidth" is now adjusted within the wrapped text, but since it can only be set for whole paragraphs at a time, it will persist with the wrong value after the wrapping, until the paragraph is finished.

\index{wrapfigure}
\begin{wrapfigure}{l}{0.3\textwidth}
	\includegraphics[width=0.3\textwidth]{images/jpegbild_Corel24bit4,2,2.jpg}
	\caption{Ein Beispiel für wrapfigure. wrapfigure ist ein Befehl vom Paket wrapfig der ein Fließen erlaubt. Es gibt auch wraptable für Tabellen.}
\end{wrapfigure}

Here is running text that is floating around figures.
Like all quotation facilities, this command is context sensitive. Depending on the nesting level, it will toggle between outer and inner quotation marks with plain and nested quotations. The starred version of this command skips directly to the inner level. If multilingual support is enabled, the style of all quotation marks will be adapted to the current language. Like all quotation facilities, this command is context sensitive. Depending on the nesting level, it will toggle between outer and inner quotation marks with plain and nested quotations. The starred version of this command skips directly to the inner level. If multilingual support is enabled, the style of all quotation marks will be adapted to the current language. Like all quotation facilities, this command is context sensitive. Depending on the nesting level, it will toggle between outer and inner quotation marks with plain and nested quotations. The starred version of this command skips directly to the inner level. If multilingual support is enabled, the style of all quotation marks will be adapted to the current language. Like all quotation facilities, this command is context sensitive. Depending on the nesting level, it will toggle between outer and inner quotation marks with plain and nested quotations. The starred version of this command skips directly to the inner level. If multilingual support is enabled, the style of all quotation marks will be adapted to the current \index{language}.

\begin{wrapfigure}[8]{r}{0.3\textwidth}  %Für die Platzierung gibt es nicht nur r und l sondern auch i (inside) und o (outside) bei zweiseitigen Dokumenten.
	\includegraphics[width=0.3\textwidth]{images/PNG8bit.png}
	\caption{Noch ein Beispiel für wrapfigure. Hier wird nach 8 Zeilen der Float einfach aufgehört. Es wird dann ignoriert, ob sich Text überlagert.}
   %\vspace{-2\baselineskip}
\end{wrapfigure}

Like all quotation facilities, this command is context sensitive. Depending on the nesting level, it will toggle between outer and inner quotation marks with plain and nested quotations. The starred version of this command skips directly to the inner level. If multilingual support is enabled, the style of all quotation marks will be adapted to the current language. Like all quotation facilities, this command is context sensitive. Depending on the nesting level, it will toggle between outer and inner quotation marks with plain and nested quotations. The starred version of this command skips directly to the inner level. If multilingual support is enabled, the style of all quotation marks will be adapted to the current language. Like all quotation facilities, this command is context sensitive. Depending on the nesting level, it will toggle between outer and inner quotation marks with plain and nested quotations. The starred version of this command skips directly to the inner level. If multilingual support is enabled, the style of all quotation marks will be \index{adapted} to the current language.

\section{psfrag Bilder}

Die Basis-EPS-Dateien zur Verwendung von PSfrag\index{PSfrag} dürfen nicht mit Inkscape 0{.}47 oder 0{.}48 gemacht werden. Inkscape 0{.}46 funktioniert hingegen.

Hintergrund ist folgender: Durch den EPS-Export per Cairo-Bibliothek in Inkscape 0{.}47 werden die Buchstaben als Einzelzeichen im EPS abgelegt. Das macht natürlich die Zeichenfolge insgesamt kaputt, die psfrag sucht um sie zu ersetzen. Für Inscape 0{.}48 gibt es diesbezüglich Anpassungen, aber sie bringen das alte Verhalten nicht zurück sondern bringen noch die möglichkeit eines TeX-Outputs, die aber im Falle von PSfrag nix bringt. Dieser besondere Exportmodus für \LaTeX tut nicht das, was für psfrag gebraucht wird, sondern exportiert auch per Cairo. Bleibt also erstmal nur Version 0{.}46.

Das ist mit \texttt{psfrag}-Befehlen per \texttt{pstool}\index{pstool}. Da werden die Labels aus dem Bild \ref{inPDFEPS} durch \LaTeX-Text ersetzt. Das tolle ist, dass das im Quelltext passiert und alle Änderungen an Schriften etc.\ sich dann auch sofort auf die Bilder auswirken. Bild \ref{psfragbild}:\\

% Befehle waren auskommentiert unten im pstool-Abschnitt drin

\begin{figure}[htb]
%\label{pstooltest}%
%\pstool*[%  Mit Stern heißt: Immer processen.%
%trim= -200 0 -200 0, %
%bb = -100 0 200 0,%
%crop=pdfcrop,  %%PW: Hilft gegen falsch gecroppte BoundingBox wenn Labels drin sind %% Kann aber Fehler "Missing $" verursachen.%
%scale=0.9]{./images/psfragabcdefghiX5}{%
%				\psfrag{abc}[tc][c]{$\pi$ PStool \textbf{rocks} \textit{around}}%
%				\psfrag{def}[Bc][r][1][30]{$\frac{the}{clock}$ tonight}%
				%\psfrag{abc}[tc][c]{Ersetzung 1}%{$\pi$ PStool \textbf{rocks} \textit{around}}%
				%\psfrag{def}[Bc][r][1][30]{Ersetzung 2}%{$\frac{the}{clock}$ tonight}%
%				\psfrag{ghi}[br][r]{$e^{v\dot ery} th\cdot \jmath jng$ is gonna be alright.}%
				%\psfrag{ghi}[br][r]{Ersetzung 3}%{$e^{v\dot ery} th\cdot \jmath jng$ is gonna be alright.}%
%}
\caption{Das ist das tolle EPS aus \ref{inPDFEPS} mit \texttt{psfrag}-Ersetzungen. Hier mit dem \texttt{pstool}-Paket on-the-fly umgewandelt.}
\label{psfragbild}
\end{figure}
Blöd ist, dass die EPS-Dateien, die Inkscape\index{Inkscape} ab Version 0.47 per Cairo erzeugt, nicht geeignet sind, weil die Labels im EPS-Quelltext nicht so abgespeichert werden, dass sie von pstool wiedergefunden werden können. Inkscape 0.46 (Export ohne Cairo) funktioniert. Ebenfalls funktioniert der EPS-Export von CorelDraw X4.

Im Quelltext ist hier \texttt{pstool*} zu finden statt nur \texttt{pstool}. Das bedeutet, dass die Grafiken jedes mal neu erzeugt werden. Das ist gut für Debugging-Zwecke, aber \textbf{verlängert die Kompilierzeit erheblich}! Wer also immer drandenkt wenn er seine Grafiken aktualisiert und wieder mal scheinbar nix passiert, kann das Sternchen getrost wegmachen.

%Das ist mittels \texttt{psfrag}-Befehlen:
%\begin{minipage}{\textwidth}
%\label{psfragtest}
%        \psfrag{abc}[c][c]{$\pi$ Rock around}
%        \psfrag{def}[c][c]{$\frac{the}{clock}$ tonight}
%        \psfrag{ghi}[c][c]{$e^{v\dot ery}th\dot \i ng$ is gonna be alright.}
%        \includegraphics[scale=0.4,trim= -20 0 -20 0]{images/psfrag_abc_def_ghi.eps}
%       
%\end{minipage}


%\psfrag{tag}[posn][psposn][scale][rot]{LATEX text}
%[posn] the LATEX text reference point. The syntax of this argument is identical to that of the \makebox command. Up to two letters may be chosen, one from the list {t,b,B,c}, (top, bottom, baseline, center) and another from {l,r,c} (left, right, center). If either letter is omitted, then c (center) is assumed. Together, these specify one of 12 anchor points. If the argument is omitted altogether, then [Bl], or left baseline positioning, is assumedbut note that supplying [] specifies centered positioning. When running in LATEX 2.09 compatibility mode, the default alignment is [bl], in order to support legacy documents. Usually this should not make a significant difference.
%[psposn] the PostScript text reference point. The possible arguments are identical to that of [posn], as is the default value, [Bl] ([bl] in LATEX 2.09 compatibility mode.)

\section{Matlab-Bilder und Mathematica-Bilder}
\label{sec:matlabbilder}
Die Vorlage bietet Unterstützung für Bilder aus Matlab\index{Matlab} und Mathematica\index{Mathematica}: Mithilfe des \verb+\psfragfig+-Befehls aus dem \texttt{pstool}-Paket können Bilder eingefügt werden, die mit \texttt{matlabfrag}\footnote{\url{http://www.mathworks.com/matlabcentral/fileexchange/21286-matlabfrag}}\index{matlabfrag} (Matlab) bzw.\ \texttt{MathPSfrag}\footnote{\url{http://wwwth.mppmu.mpg.de/members/jgrosse/mathpsfrag/}} (Mathematica) erstellt wurden. Diese erhalten dann auch die Beschriftung durch \LaTeX, d.h. man kann auch \LaTeX-Code in die Beschriftung in Matlab schreiben und später sieht es richtig aus.

Beispiel sind Bild \ref{Matlabscreen}, \ref{matlabfragbild1} und \ref{matlabfragbild2}.

\begin{figure}[htb]
	\Centering
	\includegraphics[scale=0.4]{images/matlabfrag/matlabfrag_matlab.png}
	\caption{So sieht's in Matlab aus.}
	\label{Matlabscreen}
\end{figure}

\begin{figure}[htb]
	\Centering
%	\psfragfig*[%
	%crop=pdfcrop,  %%PW: Hilft gegen falsch gecroppte BoundingBox wenn Labels drin sind %% Kann aber Fehler "Missing $" verursachen.
%	scale=0.4]{./images/matlabfrag/ex01-1}
%	{
%	\input{./images/matlabfrag/ex01-1.tex}
%	}
	\caption{Matlabfragbild Nummer 1}
	\label{matlabfragbild1}
\end{figure}

\begin{figure}[htb]
	\Centering
%	\psfragfig*[%
	%crop=pdfcrop,  %%PW: Hilft gegen falsch gecroppte BoundingBox wenn Labels drin sind %% Kann aber Fehler "Missing $" verursachen.
%	scale=0.4]{./images/matlabfrag/ex01-2}{%
%	\input{./images/matlabfrag/ex01-2.tex}
%	}
	\caption{Matlabfragbild Nummer 2. Gleicher Inhalt, aber andere EPS-BoundingBox.}
	\label{matlabfragbild2}
\end{figure}


\subsection{Matlab und TikZ}

Wer Matlab lieber mit TikZ\index{TikZ} statt mit PSfrag verheiraten möchte, dem seien diese Projekte ans Herz gelegt:

matlab2tikz\\
\url{http://www.mathworks.com/matlabcentral/fileexchange/22022}

Matfig2PGF\\
\url{http://www.mathworks.com/matlabcentral/fileexchange/12962}

\section{TikZ-Bilder}

Eine sehr große Auswahl, was man mit TikZ\index{TikZ} machen kann und wie es geht (Quellcode dazu!!) findet man bei den \TeX amples:

\url{http://www.texample.net/tikz/examples/all}

Das polarisierende Mikroskop aus den \TeX amples ist unter Abb.~\ref{fig:tikzpolarizingmicroscope} zu sehen. Die Originaldatei verwendet jedoch den Befehl \texttt{opacity}. \textbf{Achtung}: Dieser Befehl erzeugt Transparenzen, die beim Druck durch KIT SP nicht erwünscht sind! Also auch bei TikZ aufpassen.

Jetzt kommt ein tolles \textbf{\texttt{TikZ}}-Bild mit \texttt{TikZ} in Abb.~\ref{fig:tikzkalmanfilterdiagram}. Es zeigt ein hübsches Kalmanfilter aus den \TeX amples:

%%PW: TikZ-Beispiele hier: http://www.texample.net/tikz/examples/ zum runterladen
\begin{figure}[htb]
%	\input{images/TikZpolarizingmicroscope.tex}
\caption[Polarisiertes Licht]{TikZ-Bild polarisiertes Licht. Der obige Text steht seltsamerweise im TikZ-Bild drin. Das ist nicht gut, weil bei Änderungen des Papierformats der Text nur noch schlecht aussieht.}
\label{fig:tikzpolarizingmicroscope}
\end{figure}

\begin{figure}[htbp]%
%	\input{images/kalman-filter_tikz_img.tex}
\caption[Shortened for TOC: System model of the (linear) Kalman filter.]{This is the system model of the (linear) Kalman filter. At each time step the state vector $\mathbf{x}_k$ is propagated to the new state
estimation $\mathbf{x}_{k+1}$ by multiplication with the constant state transition matrix $\mathbf{A}$. The state vector $\mathbf{x}_{k+1}$ is additionally influenced by the control input vector $\mathbf{u}_{k+1}$ multiplied by the input matrix $\mathbf{B}$, and the system noise vector $\mathbf{w}_{k+1}$. The system state cannot be measured directly. The measurement vector $\mathbf{z}_k$ consists of the information contained within the state vector $\mathbf{x}_k$ multiplied by the measurement matrix $\mathbf{H}$, and the additional measurement noise $\mathbf{v}_k$.}
\label{fig:tikzkalmanfilterdiagram}
\end{figure}%


\subsection{3D-Grafiken und TikZ}

Ein Paket zur einfacheren Erstellung von 3D-Grafiken ist \texttt{Sketch}. Sketch ist praktisch eine 3D-Programmiersprache, die Output in PSTricks oder TikZ\index{TikZ} generiert.
\url{http://www.frontiernet.net/~eugene.ressler/}

Ein etwas weniger großes Framework (und damit möglicherweise einfacher zu lernen) ist das Package \texttt{tikz-3dplot}.
Wenn es nicht um Oberflächenmodellierung geht, reicht evtl.\ auch das, siehe Figure~\ref{fig:tikz3d}.

\begin{figure}[htb]
	\Centering
%\input{images/the-3dplot-package.tex}
\caption{Bild erstellt mit tikz-3dplot.}
\label{fig:tikz3d}
\end{figure}


\section{Bilder mit Asymptote}
\label{sec:asy}
Ist nicht so einfach, geht auch nur holprig.

Zuerst muss man Asymptote\index{Asymptote} runterladen\footnote{\url{http://asymptote.sourceforge.net/}} und installieren. Außerdem muss (wie schon am Anfang empfohlen) ein aktuelles Ghostscript installiert sein. Im Folgenden wird erwartet, dass der geneigte Leser die Transferleistung erbringt, die Pfade an sein System anzupassen \Smiley.

Dann einen Ordner namens \texttt{asymptote} im Verzeichnis \\ \verb+c:\Programme\MiKTeX28\tex\latex\+ anlegen und die \texttt{asycolors.sty} sowie die \texttt{asymptote.sty} reinkopieren.

Anschließend muss man Mik\TeX noch die Dateien in den internen Index aufnehmen lassen, dass sie als bekannt gelten. Dazu unter Mik\TeX, Maintenance (Admin), Settings (Admin) auf \enquote{Refresh FNDB} (Filename Database) klicken. Ab dann kennt Mik\TeX das Paket und man kann \verb+\usepackage{asymptote}+ verwenden.

Allerdings geschieht die Erzeugung noch nicht vollautomatisch. Das Bild \ref{fig:asyimage} war ursprünglich ein inline-Bild (Asy-Code im \LaTeX-Code), allerdings ist es jetzt als normales PDF eingebunden (Grund s{.}\,u{.}). Da wird nach dem ersten pdf\LaTeX-Lauf eine \texttt{<haupttexdateiname>-1.asy} erzeugt. Die muss man per Doppelklick ausführen (dabei wird ein PDF und ein Hilfs-\LaTeX-Dokument erzeugt) und beim nächsten pdf\LaTeX-Lauf erscheint dann das Bild. Problem ist hierbei aber noch, dass man noch eine Umgebungsvariable (Benutzer-Umgebungsvariable reicht) namens \texttt{ASYMPTOTE\_GS} mit dem Wert \\ \verb+c:\Programme\Ghostscript\gs8.71\bin\gswin32c.exe+ (für Ghostscript v8{.}71) setzen muss und Größenänderungen so nicht direkt vorgesehen sind.

\begin{figure}%
\Centering
	\includegraphics[width=0.2\textwidth]{images/asymptote/asymptoteexamplepdf13.pdf}%
	\caption{Ergebnis des Asymptote-Inlinebilds}%
	\label{fig:asyimage}%
\end{figure}

%% Inline-Code mit dem das Bild erzeugt wurde. Zur Vermeidung der \write-Problematik wird aber Asymptote wieder rausgeworfen und comment eingesetzt.
%\begin{asy}
	%include graph;
	%size(1inch);
	%filldraw(circle((0,0),1),yellow,black);
	%fill(circle((-.3,.4),.1),black);
	%fill(circle((.3,.4),.1),black);
	%draw(arc((0,0),.5,-140,-40));
%\end{asy}

Leider ist die Integration alles andere als nahtlos. Auch Beispiele aus der Asymptote-Gallery funktionieren nicht so, wie sie sollen. Am einfachsten ist es wahrscheinlich, die Asymptote-Grafiken separat als PDF zu erzeugen und normal als Bild einzubinden. Dies geschieht durch aufruf von \texttt{asy -f pdf <asyfile.asy>} bzw.\ \texttt{asy -tex pdflatex <asyfile.asy>}. Allerdings muss man dann darauf achten, dass man die \LaTeX-Schrift fürs Bild korrekt wählt (im wesentlichen das Paket \texttt{fourier}, aber bei anderen Mathezeichen wirds dann kompliziert). Deshalb muss in der Asymptote-Datei noch folgendes eingefügt werden:\\
\begin{verbatim}
\usepackage("fourier");
defaultpen(font("T1","fut\textfamilyextension","m","n"));
\end{verbatim}

Die technische Begründung für diese Unannehmlichkeiten: Asymptote braucht auch ein \TeX-\verb+\write+, von denen es nur 16 gibt (\TeX\ ist halt ewig alt). Man hat also die Wahl zwischen \zb \texttt{comment} und \texttt{asymptote}. Um das comment-Paket demonstieren zu können, wurde obige Inline-Grafik als PDF eingefügt. Vermutlich ist es generell einfacher, Asymptote-Grafiken auf diese Weise einzufügen.

%\asyfig{images/asymptote/helix}


%\newcommand{\welcome}{Welcome!}
%\begin{figure}
%\Centering
%\begin{asy}
%size (3cm, 0);
%label (Label ("\welcome", "Welcome!"), (0,0));
%shipout(bbox(0.5cm));
%\end{asy}
%\caption{Correct bounding box.}
%\end{figure}
%
%\begin{figure}[htb]
	%\Centering
  %\includegraphics[width=\linewidth]{images/asymptote/helix}
  %\caption{This is a margin figure.  The helix is defined by 
    %$x = \cos(2\pi z)$, $y = \sin(2\pi z)$, and $z = [0, 2.7]$.  The figure was
    %drawn using Asymptote\footnote{\url{http://asymptote.sf.net/}}.}
  %\label{fig:marginfig} 
%\end{figure}

\section{3D-Bilder und Videos}
Seit PDF-Version 1{.}6 (Acrobat 7{.}0, 2005) sind 3D-Objekte in PDFs\index{3D im PDF} möglich. Diese können \zb im PRC-Format durch \texttt{asy -inlineimage -tex pdflatex <asyfile.asy>} mit Asymptote erzeugt und mithilfe des \texttt{movie15}-Pakets eingefügt werden. In der Druckversion für die KIT-Druckerei dürfen aber sowieso keine 3D-Elemente im PDF vorhanden sein wegen der angestrebten PDF/A-Kompatibilität. SumatraPDF scheint außerdem keine Unterstützung für 3D in PDF mitzubringen. Will man die Elemente für Online-Publishing drinhaben, sollte man auch daran denken, dass der pdfminorversion-Befehl die PDF-Version nach oben beschränkt und das entsprechend ändern.

% Movie15-Test
%\begin{figure}%
	%\Centering%
	%\includemovie[label=fig:3dimage]{0.4\textwidth}{0.4\textwidth}{images/asymptote/helix+0.prc}%
	%\caption{3D Image erzeugt mit Asymptote}%
%\end{figure}

Allerdings müssen solche Bilder nicht mit Asymptote erzeugt werden, sondern das ist inwischen auch aus Matlab heraus mit einem Zusatzpaket für U3D\footnote{\url{http://www.mathworks.com/matlabcentral/fileexchange/27245-generate-vertices-faces-and-color-for-u3d-format}} möglich.

Außerdem können mithilfe des \texttt{movie15}-Pakets auch Videos ins PDF eingebunden werden.

\section{Keine PStricks}

\textbf{PStricks gehen} \index{PStricks} mit PDFlatex in dieser Vorlage \textbf{nicht} ohne die Unterstützung für Matlab-Bilder (siehe Abschnitt \ref{sec:matlabbilder}) aufzugeben. Alternativ mal TikZ und PDFtricks näher anschauen. Auch wenn die Möglichkeiten mit PStricks größer sind, ist das hoffentlich verschmerzbar. Als Alternative ist möglicherweise auch Asymptote (Abschnitt \ref{sec:asy}) geeignet.

\subsection{Methoden der Superidee - Textlastige Seiten}

\subsubsection{Subsubsection subsubsection}
Das war eine Subsubsection, und jetzt kommt ein Paragraph.
\paragraph{Paragraph paragraph}
Das war der Paragraph.

\blindtext

\blindlist{itemize}

\subsection{Umsetzung der Superidee}
\blindtext
\subsubsection{Implementierung der Superidee}
\paragraph{In C++ und anderen schönen Sprachen}
\blindtext
\paragraph{In Java und anderen Sprachen für Pussys}
\blindtext

\blindmathpaper

%\ThisTileWallPaper{\paperwidth}{\paperheight}{./images/TitleKIT_DE_A4.pdf}
%\section*{An example of changing the aspect ratio of the tiles on this page}
%\newpage
%\ClearWallPaper
%\section*{The wallpaper removed}

%\begin{tabulary}{\linewidth}{RcL} % alternativ auch textwidth oder hsize
%SYN SYN SYN SYN SYN SYN SYN SYN SYN SYN SYN SYN SYN SYN SYN SYN SYN SYN SYN SYN SYN SYN SYN SYN SYN &
% $\rightarrow$&
%nix \tabularnewline
%nix &
%$\leftarrow$ &
%ACK ACK ACK ACK ACK ACK ACK ACK ACK ACK ACK ACK ACK ACK ACK ACK \tabularnewline
%\end{tabulary}

\section{Netzwerkkommunikationstabelle}

\newcolumntype{G}[1]{>{\RaggedLeft\arraybackslash}p{#1}}
\newcolumntype{U}[1]{>{\RaggedRight\arraybackslash}p{#1}}
\newcolumntype{C}[1]{>{\Centering\arraybackslash}p{#1}}
\noindent
\begin{tabularx}{\textwidth}{@{}G{0.45\textwidth}@{}C{0.1\textwidth}@{}U{0.45\textwidth}@{}} % alternativ auch textwidth oder hsize
SYN SYN Das ist die SYN SYN Sil\-ben\-trenn\-ung richtigrichtigrichtiglanger Wörter SYN SYN SYN SYN Silben\-trennung SYN SYN SYN SYN Silbentrennung SYN SYN SYN SYN Silbentrennung SYN SYN SYN SYN SYN SYN SYN SYN SYN &
 $\rightarrow$&
nix \tabularnewline
nix &
$\leftarrow$ &
ACK ACK ACK ACK ACK ACK Sil\-ben\-trenn\-ung ACK ACK ACK Silbentrennung ACK ACK ACK ACK Silbentrennung ACK ACK ACK ACK ACK ACK \tabularnewline
\end{tabularx}


%\begin{longtable}{@{}p{0.45\textwidth}@{}p{0.1\textwidth}@{}p{0.45\textwidth}}
%SYN SYN SYN SYN SYN SYN SYN SYN SYN SYN SYN SYN SYN SYN SYN SYN SYN SYN SYN SYN SYN SYN SYN SYN SYN SYN SYN &
% $\rightarrow$&
%nix \tabularnewline
%nix &
%$\leftarrow$ &
%ACK ACK ACK ACK ACK ACK ACK ACK ACK ACK ACK ACK ACK ACK ACK ACK ACK \tabularnewline
%\end{longtable}


\section{Randnotizen}

Randnotizen \index{Randnotizen} werden mit \texttt{marginnote} gemacht.\\
Das ist ein Supertext. Das ist ein Supertext. Das ist ein echter Supertext. \marginnote{Supertext}  Das ist ein Supertext. Das ist ein Supertext. Das ist ein Supertext. Das ist ein Supertext. Das ist ein Über-Supertext.\marginnote{Noch mehr Supertext! Noch mehr Supertext! Noch mehr Supertext!} Das ist ein Supertext. Das ist ein Supertext. Das ist ein Supertext. Das ist ein Supertext. Das ist ein Supertext.\marginnote{Richtig viel viel Supertext!!} Das ist ein Supertext. Das ist ein Supertext. Das ist ein Supertext. Das ist ein Supertext. \marginnote[Ich denke, ich bin im linken Rand]{Ich denke, ich bin im rechten Rand} Das ist ein Supertext.

{\color{red}\textsl{Es ist normal und gewünscht, dass die Randnotizen überlappen können, siehe marginpar-Doku: \enquote{Note: The margin note will be placed at the current vertical line. This means, if you are using two \texttt{marginnote} commands at the same line, they will be put on the same place. This is not a bug but a feature!}}}

\subsection{Auflistungen}

%\blindlist{enumerate}

\subsubsection{itemize}
Dies ist die Standard Aufzählungsliste von \LaTeXe. Sie hat einen Abstand zwischen den Einträgen um bei Längeren Zeilen das Lesen zu erleichtern.\index{Itemize}

\begin{itemize}
   \item Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
%
   \item Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
%
   \item Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
\end{itemize}

mit mehr als einer Ebene

\begin{itemize}
   \item Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
%
   \begin{itemize}
      \item Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
      %
      \begin{itemize}
         \item Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
         %
         \item Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
         %
         \item Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
      \end{itemize}
      %
      \item Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
      %
      \item Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
   \end{itemize}
\end{itemize}

% ------------------------------------------------------------
\subsubsection{enumerate}
Dies ist die Standard Nummerierungsliste von \LaTeXe{}. Sie hat einen Abstand zwischen den Einträgen um bei Längeren Zeilen das Lesen zu erleichtern.

\begin{enumerate}
   \item Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
%
   \begin{enumerate}
      \item Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
      %
      \begin{enumerate}
         \item Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
         %
         \item Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
         %
         \item Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
      \end{enumerate}
      %
      \item Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
      %
      \item Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
   \end{enumerate}
\end{enumerate}

% ------------------------------------------------------------
%
\subsubsection{Kompakte Liste}

Die eleganteste Lösung bietet das Paket \texttt{enumitem} mit der Option `noitemsep'. \index{Itemize kompakt}
\begin{itemize}[noitemsep]
\item Diese Umgebung
\item sollte man nur nutzen,
\item wenn die Einträge nicht länger als eine Zeile sind
\end{itemize}

% ------------------------------------------------------------
\subsubsection{Beliebige Listen-Labels}

Dies ist die \texttt{enumerate} Umgebung des Paketes \texttt{enumitem} mit der Option [label=\alph{enumi})].

\begin{enumerate}[label=\alph{enumi})]
         \item Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
         %
         \item Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
\end{enumerate}
 

%\bibliographystyle{bib/bst/AlphaDINFirstName}
%\bibliography{bib/BibtexDatabase}